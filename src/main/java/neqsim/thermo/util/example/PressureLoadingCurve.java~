package thermo.util.example;

import dataPresentation.*;
import thermo.system.*;
import thermodynamicOperations.*;
import com.jrefinery.chart.*;

public class PressureLoadingCurve{
    
    /** This method is just meant to test the thermo package.
     */
    public static void main(String args[]){
        double[][] points;
        SystemInterface testSystem = new SystemFurstElectrolyteEos((273.15+45.0),1.1);
        
        testSystem.addComponent("CO2", 0.1);
        testSystem.addComponent("water", 100.0);             // legger til komponenter til systemet
        testSystem.addComponent("MDEA", 15.0);             // legger til komponenter til systemet
        
        testSystem.chemicalReactionInit();
        testSystem.createDatabase(true);
        testSystem.setMixingRule(4);
        testSystem.init(0);
        ThermodynamicOperations testOps = new ThermodynamicOperations(testSystem);
        //testOps.calcPloadingCurve();
        try{
            testOps.bubblePointPressureFlash(false);
        }
        catch(Exception e){
            System.out.println(e.toString());
        }
        System.out.println("pressure " + testSystem.getPressure());
        thermo.ThermodynamicModelTest testModel = new thermo.ThermodynamicModelTest(testSystem);
        testModel.runTest();
        // write data to netcdf
        //testOps.writeNetCDF("c:/testloading.nc");
    }
}